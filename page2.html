<!-- tutorial.html - third page of website, includes code walkthrough and external css -->  
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="layout.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css"/>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js"></script>
    <body>

      <div class = "header">
        <h1> Covid-19 Impact and <br> Labor Market Analysis 
         
        </div>

<div id="wrapper">
        <div id = "sidebar">
          <ul>
            <li><a href="index.html"> Summary </a></li>
            <li><a href="page2.html"> CanvasJS </a></li>
            <li><a href="page3.html">Sources</a></li>
          </ul>
        
        </div>

<div class = "box" style="height: 2000px;">
<div class="intro">

<pre style="margin: auto; background-color: white; border: 10px solid rgb(0, 0, 0); width: 75%;"><code class="language-javascript">
&lt;!DOCTYPE html>
&lt;html lang="en">

&lt;head>
&lt;meta charset="UTF-8" />
&lt;meta charset="viewport" content="width=device-width"/>
&lt;meta http-equiv="X-UA-Compatible" content="ie=edge"/>
&lt;title>   My data   </title>
&lt;script src="https://cdn.jsdelivr.net/npm/chart.js@3.6.0/dist/chart.min.js"></script>

&lt;head>
&lt;body>
&lt;canvas id="chart" width="400" height="400"></canvas>

&lt;script>   
const xlabels = []; 
const yrevs = [];
chartIt();

async function chartIt(){
await getData();
const ctx = document.getElementById('chart').getContext('2d');

const myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: xlabels,
        datasets: [{
            label: 'Massachusetts Unemployment From 2011 - 2021',
            data: yrevs,
            backgroundColor: [
                'rgba(54, 162, 235, 0.2)',
            ],
            borderColor: [
                'rgba(54, 162, 235, 1)',
            ],
            borderWidth: 1
        }]
    },
    
});
}


async function getData(){
const response = await fetch('MA_employment_stats.csv')
const data = await response.text();

const table = data.split('\n').splice(1);

table.forEach(row => { 
    const columns = row.split(',');
    const year = columns[0];
    const rev = columns[6];

    xlabels.push(year)
    yrevs.push(rev)
    
});
}

&lt;/script>
&lt;/body>
&lt;/html>

      </code>
      </pre>
</div>

</div>
</div>
      </body>
      </head>
      </html>